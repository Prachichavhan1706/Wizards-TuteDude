{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{collection,addDoc,serverTimestamp,query,where,onSnapshot,updateDoc,doc}from\"firebase/firestore\";import{db,auth}from\"../firebase\";// Removed Firebase Storage import since not used now\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function QualityCheck(){const currentUser=auth.currentUser;// Local states\nconst[booked,setBooked]=useState(false);const[supplierName,setSupplierName]=useState(\"\");const[file,setFile]=useState(null);const[uploading,setUploading]=useState(false);const[uploadSuccess,setUploadSuccess]=useState(false);const[qualityChecks,setQualityChecks]=useState([]);// fetched from Firestore\nconst[selectedCheckId,setSelectedCheckId]=useState(null);// which qualityCheck are we uploading for?\n// Fetch all quality checks for the current vendor, real-time updates\nuseEffect(()=>{if(!currentUser)return;const q=query(collection(db,\"qualityChecks\"),where(\"vendorId\",\"==\",currentUser.uid));const unsubscribe=onSnapshot(q,snapshot=>{const checks=snapshot.docs.map(doc=>({id:doc.id,...doc.data()}));setQualityChecks(checks);});return()=>unsubscribe();},[currentUser]);// Handle booking a new quality check request\nconst handleBooking=async e=>{e.preventDefault();if(!supplierName.trim()){alert(\"Please enter a supplier name\");return;}try{const docRef=await addDoc(collection(db,\"qualityChecks\"),{vendorId:currentUser.uid,supplierName,status:\"requested\",createdAt:serverTimestamp()});setBooked(true);setSupplierName(\"\");setSelectedCheckId(docRef.id);// Select this for potential upload\nalert(\"Quality check requested!\");}catch(error){alert(\"Failed to request quality check: \"+error.message);}};// Handle file input change\nconst handleFileChange=e=>{setFile(e.target.files[0]);setUploadSuccess(false);};// Clear selected file before upload\nconst handleClearFile=()=>{setFile(null);setUploadSuccess(false);};// Upload certificate file to Cloudinary and update Firestore doc\nconst handleUpload=async()=>{if(!file)return;if(!selectedCheckId){alert(\"No related quality check selected for upload.\");return;}setUploading(true);const data=new FormData();data.append(\"file\",file);data.append(\"upload_preset\",\"certificate_uploads\");// your preset name exactly\ntry{// Upload to Cloudinary unsigned endpoint\nconst res=await fetch(\"https://api.cloudinary.com/v1_1/dcguxvuzb/upload\",// <-- Replace this!\n{method:\"POST\",body:data});const uploadResult=await res.json();if(!uploadResult.secure_url){throw new Error(\"Upload failed\");}// Update Firestore document with Cloudinary URL and status\nawait updateDoc(doc(db,\"qualityChecks\",selectedCheckId),{certificateUrl:uploadResult.secure_url,status:\"complete\"});setUploadSuccess(true);setFile(null);alert(\"Certificate uploaded successfully!\");}catch(error){alert(\"Upload failed: \"+error.message);}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(\"main\",{style:{maxWidth:\"600px\",margin:\"40px auto\",padding:\"24px\",fontFamily:\"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",backgroundColor:\"#fff\",borderRadius:\"12px\",boxShadow:\"0 6px 20px rgba(0, 0, 0, 0.1)\"},\"aria-label\":\"Quality Check Section\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"#219150\",marginBottom:\"24px\",textAlign:\"center\"},children:\"Quality Check\"}),!booked?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleBooking,style:{marginBottom:\"40px\"},\"aria-describedby\":\"booking-instructions\",\"aria-live\":\"polite\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"supplierName\",style:{display:\"block\",marginBottom:\"8px\",fontWeight:\"600\"},children:\"Supplier Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"supplierName\",name:\"supplierName\",type:\"text\",placeholder:\"Enter supplier name\",value:supplierName,onChange:e=>setSupplierName(e.target.value),required:true,\"aria-required\":\"true\",style:{width:\"100%\",padding:\"10px 14px\",fontSize:\"1rem\",borderRadius:\"8px\",border:\"1px solid #ccc\",marginBottom:\"16px\",boxSizing:\"border-box\",transition:\"border-color 0.3s\"},onFocus:e=>e.target.style.borderColor=\"#219150\",onBlur:e=>e.target.style.borderColor=\"#ccc\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{backgroundColor:\"#219150\",color:\"white\",padding:\"12px 24px\",border:\"none\",borderRadius:\"8px\",fontWeight:\"600\",cursor:\"pointer\",fontSize:\"1.1rem\",width:\"100%\",transition:\"background-color 0.3s\"},onMouseEnter:e=>e.currentTarget.style.backgroundColor=\"#1a7b32\",onMouseLeave:e=>e.currentTarget.style.backgroundColor=\"#219150\",children:\"Request QA Check\"})]}):/*#__PURE__*/_jsx(\"p\",{style:{color:\"#2d662a\",fontWeight:\"600\",textAlign:\"center\",marginBottom:\"40px\"},role:\"alert\",children:\"Quality check requested! You'll be notified when the results are ready.\"}),/*#__PURE__*/_jsxs(\"section\",{\"aria-label\":\"Certificates List\",style:{marginBottom:\"40px\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{borderBottom:\"2px solid #219150\",paddingBottom:\"8px\",marginBottom:\"16px\"},children:\"Certificates\"}),qualityChecks.length===0?/*#__PURE__*/_jsx(\"p\",{style:{color:\"#777\",fontStyle:\"italic\"},children:\"No certificates found.\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",paddingLeft:0,margin:0},children:qualityChecks.map(cert=>{var _cert$createdAt;return/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:\"12px\",padding:\"12px 16px\",backgroundColor:\"#f4faf4\",borderRadius:\"8px\",boxShadow:\"inset 0 0 8px #c8e6c9\",display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",fontSize:\"1rem\",color:\"#2d662a\"},children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:cert.supplierName||\"Unknown Supplier\"}),\" \\u2014\",\" \",cert.status.charAt(0).toUpperCase()+cert.status.slice(1),\" \",(_cert$createdAt=cert.createdAt)!==null&&_cert$createdAt!==void 0&&_cert$createdAt.toDate?`(${cert.createdAt.toDate().toLocaleDateString()})`:\"\"]}),cert.certificateUrl?/*#__PURE__*/_jsx(\"a\",{href:cert.certificateUrl,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:\"#219150\",textDecoration:\"none\",fontWeight:\"600\"},\"aria-label\":`View certificate for ${cert.supplierName||\"supplier\"}`,children:\"View Certificate\"}):/*#__PURE__*/_jsx(\"span\",{style:{fontStyle:\"italic\",color:\"#777\"},children:\"No certificate uploaded\"})]},cert.id);})})]}),selectedCheckId&&/*#__PURE__*/_jsxs(\"section\",{\"aria-label\":\"Upload Certificate\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{borderBottom:\"2px solid #219150\",paddingBottom:\"8px\",marginBottom:\"16px\"},children:\"Upload Certificate\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"certificateUpload\",style:{display:\"block\",marginBottom:\"12px\",fontWeight:\"600\",color:\"#2d662a\"},children:\"Select certificate file:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"certificateUpload\",type:\"file\",onChange:handleFileChange,accept:\".pdf,.jpg,.jpeg,.png\",style:{marginBottom:\"16px\",cursor:\"pointer\"},\"aria-describedby\":\"upload-info\"}),file&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"12px\",display:\"flex\",alignItems:\"center\",gap:\"8px\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Selected file:\"}),\" \",file.name,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClearFile,\"aria-label\":\"Clear selected file\",style:{backgroundColor:\"transparent\",border:\"none\",color:\"#d32f2f\",cursor:\"pointer\",fontWeight:\"700\",fontSize:\"1rem\",padding:\"0 4px\"},children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleUpload,disabled:!file||uploading,style:{backgroundColor:file&&!uploading?\"#219150\":\"#a5d6a7\",color:\"white\",padding:\"12px 24px\",border:\"none\",borderRadius:\"8px\",fontWeight:\"600\",cursor:file&&!uploading?\"pointer\":\"not-allowed\",fontSize:\"1rem\",width:\"100%\",transition:\"background-color 0.3s\"},\"aria-disabled\":!file||uploading,\"aria-busy\":uploading,children:uploading?\"Uploading...\":\"Upload\"}),uploadSuccess&&/*#__PURE__*/_jsx(\"p\",{id:\"upload-info\",style:{marginTop:\"12px\",color:\"#2d662a\",fontWeight:\"600\"},role:\"status\",children:\"Certificate uploaded successfully!\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","collection","addDoc","serverTimestamp","query","where","onSnapshot","updateDoc","doc","db","auth","jsx","_jsx","jsxs","_jsxs","QualityCheck","currentUser","booked","setBooked","supplierName","setSupplierName","file","setFile","uploading","setUploading","uploadSuccess","setUploadSuccess","qualityChecks","setQualityChecks","selectedCheckId","setSelectedCheckId","q","uid","unsubscribe","snapshot","checks","docs","map","id","data","handleBooking","e","preventDefault","trim","alert","docRef","vendorId","status","createdAt","error","message","handleFileChange","target","files","handleClearFile","handleUpload","FormData","append","res","fetch","method","body","uploadResult","json","secure_url","Error","certificateUrl","style","maxWidth","margin","padding","fontFamily","backgroundColor","borderRadius","boxShadow","children","color","marginBottom","textAlign","onSubmit","htmlFor","display","fontWeight","name","type","placeholder","value","onChange","required","width","fontSize","border","boxSizing","transition","onFocus","borderColor","onBlur","cursor","onMouseEnter","currentTarget","onMouseLeave","role","borderBottom","paddingBottom","length","fontStyle","listStyle","paddingLeft","cert","_cert$createdAt","justifyContent","alignItems","charAt","toUpperCase","slice","toDate","toLocaleDateString","href","rel","textDecoration","accept","gap","onClick","disabled","marginTop"],"sources":["C:/Users/Prachi/OneDrive/Desktop/TuteDude/Wizards-TuteDude/front_end/src/pages/QualityCheck.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  serverTimestamp,\r\n  query,\r\n  where,\r\n  onSnapshot,\r\n  updateDoc,\r\n  doc,\r\n} from \"firebase/firestore\";\r\nimport { db, auth } from \"../firebase\";\r\n// Removed Firebase Storage import since not used now\r\n\r\nexport default function QualityCheck() {\r\n  const currentUser = auth.currentUser;\r\n\r\n  // Local states\r\n  const [booked, setBooked] = useState(false);\r\n  const [supplierName, setSupplierName] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadSuccess, setUploadSuccess] = useState(false);\r\n  const [qualityChecks, setQualityChecks] = useState([]); // fetched from Firestore\r\n  const [selectedCheckId, setSelectedCheckId] = useState(null); // which qualityCheck are we uploading for?\r\n\r\n  // Fetch all quality checks for the current vendor, real-time updates\r\n  useEffect(() => {\r\n    if (!currentUser) return;\r\n\r\n    const q = query(\r\n      collection(db, \"qualityChecks\"),\r\n      where(\"vendorId\", \"==\", currentUser.uid)\r\n    );\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      const checks = snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\r\n      setQualityChecks(checks);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [currentUser]);\r\n\r\n  // Handle booking a new quality check request\r\n  const handleBooking = async (e) => {\r\n    e.preventDefault();\r\n    if (!supplierName.trim()) {\r\n      alert(\"Please enter a supplier name\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const docRef = await addDoc(collection(db, \"qualityChecks\"), {\r\n        vendorId: currentUser.uid,\r\n        supplierName,\r\n        status: \"requested\",\r\n        createdAt: serverTimestamp(),\r\n      });\r\n      setBooked(true);\r\n      setSupplierName(\"\");\r\n      setSelectedCheckId(docRef.id); // Select this for potential upload\r\n      alert(\"Quality check requested!\");\r\n    } catch (error) {\r\n      alert(\"Failed to request quality check: \" + error.message);\r\n    }\r\n  };\r\n\r\n  // Handle file input change\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n    setUploadSuccess(false);\r\n  };\r\n\r\n  // Clear selected file before upload\r\n  const handleClearFile = () => {\r\n    setFile(null);\r\n    setUploadSuccess(false);\r\n  };\r\n\r\n  // Upload certificate file to Cloudinary and update Firestore doc\r\n  const handleUpload = async () => {\r\n    if (!file) return;\r\n    if (!selectedCheckId) {\r\n      alert(\"No related quality check selected for upload.\");\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n\r\n    const data = new FormData();\r\n    data.append(\"file\", file);\r\n    data.append(\"upload_preset\", \"certificate_uploads\");  // your preset name exactly\r\n    \r\n    try {\r\n      // Upload to Cloudinary unsigned endpoint\r\n      const res = await fetch(\r\n        \"https://api.cloudinary.com/v1_1/dcguxvuzb/upload\",  // <-- Replace this!\r\n        {\r\n          method: \"POST\",\r\n          body: data,\r\n        }\r\n      );\r\n      const uploadResult = await res.json();\r\n\r\n      if (!uploadResult.secure_url) {\r\n        throw new Error(\"Upload failed\");\r\n      }\r\n\r\n      // Update Firestore document with Cloudinary URL and status\r\n      await updateDoc(doc(db, \"qualityChecks\", selectedCheckId), {\r\n        certificateUrl: uploadResult.secure_url,\r\n        status: \"complete\",\r\n      });\r\n\r\n      setUploadSuccess(true);\r\n      setFile(null);\r\n      alert(\"Certificate uploaded successfully!\");\r\n    } catch (error) {\r\n      alert(\"Upload failed: \" + error.message);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main\r\n      style={{\r\n        maxWidth: \"600px\",\r\n        margin: \"40px auto\",\r\n        padding: \"24px\",\r\n        fontFamily: \"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif\",\r\n        backgroundColor: \"#fff\",\r\n        borderRadius: \"12px\",\r\n        boxShadow: \"0 6px 20px rgba(0, 0, 0, 0.1)\",\r\n      }}\r\n      aria-label=\"Quality Check Section\"\r\n    >\r\n      <h2 style={{ color: \"#219150\", marginBottom: \"24px\", textAlign: \"center\" }}>\r\n        Quality Check\r\n      </h2>\r\n\r\n      {/* Booking Section */}\r\n      {!booked ? (\r\n        <form\r\n          onSubmit={handleBooking}\r\n          style={{ marginBottom: \"40px\" }}\r\n          aria-describedby=\"booking-instructions\"\r\n          aria-live=\"polite\"\r\n        >\r\n          <label\r\n            htmlFor=\"supplierName\"\r\n            style={{ display: \"block\", marginBottom: \"8px\", fontWeight: \"600\" }}\r\n          >\r\n            Supplier Name\r\n          </label>\r\n          <input\r\n            id=\"supplierName\"\r\n            name=\"supplierName\"\r\n            type=\"text\"\r\n            placeholder=\"Enter supplier name\"\r\n            value={supplierName}\r\n            onChange={(e) => setSupplierName(e.target.value)}\r\n            required\r\n            aria-required=\"true\"\r\n            style={{\r\n              width: \"100%\",\r\n              padding: \"10px 14px\",\r\n              fontSize: \"1rem\",\r\n              borderRadius: \"8px\",\r\n              border: \"1px solid #ccc\",\r\n              marginBottom: \"16px\",\r\n              boxSizing: \"border-box\",\r\n              transition: \"border-color 0.3s\",\r\n            }}\r\n            onFocus={(e) => (e.target.style.borderColor = \"#219150\")}\r\n            onBlur={(e) => (e.target.style.borderColor = \"#ccc\")}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            style={{\r\n              backgroundColor: \"#219150\",\r\n              color: \"white\",\r\n              padding: \"12px 24px\",\r\n              border: \"none\",\r\n              borderRadius: \"8px\",\r\n              fontWeight: \"600\",\r\n              cursor: \"pointer\",\r\n              fontSize: \"1.1rem\",\r\n              width: \"100%\",\r\n              transition: \"background-color 0.3s\",\r\n            }}\r\n            onMouseEnter={(e) => (e.currentTarget.style.backgroundColor = \"#1a7b32\")}\r\n            onMouseLeave={(e) => (e.currentTarget.style.backgroundColor = \"#219150\")}\r\n          >\r\n            Request QA Check\r\n          </button>\r\n        </form>\r\n      ) : (\r\n        <p\r\n          style={{ color: \"#2d662a\", fontWeight: \"600\", textAlign: \"center\", marginBottom: \"40px\" }}\r\n          role=\"alert\"\r\n        >\r\n          Quality check requested! You'll be notified when the results are ready.\r\n        </p>\r\n      )}\r\n\r\n      {/* Certificates Section */}\r\n      <section aria-label=\"Certificates List\" style={{ marginBottom: \"40px\" }}>\r\n        <h3\r\n          style={{\r\n            borderBottom: \"2px solid #219150\",\r\n            paddingBottom: \"8px\",\r\n            marginBottom: \"16px\",\r\n          }}\r\n        >\r\n          Certificates\r\n        </h3>\r\n        {qualityChecks.length === 0 ? (\r\n          <p style={{ color: \"#777\", fontStyle: \"italic\" }}>No certificates found.</p>\r\n        ) : (\r\n          <ul style={{ listStyle: \"none\", paddingLeft: 0, margin: 0 }}>\r\n            {qualityChecks.map((cert) => (\r\n              <li\r\n                key={cert.id}\r\n                style={{\r\n                  marginBottom: \"12px\",\r\n                  padding: \"12px 16px\",\r\n                  backgroundColor: \"#f4faf4\",\r\n                  borderRadius: \"8px\",\r\n                  boxShadow: \"inset 0 0 8px #c8e6c9\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                  fontSize: \"1rem\",\r\n                  color: \"#2d662a\",\r\n                }}\r\n              >\r\n                <span>\r\n                  <strong>{cert.supplierName || \"Unknown Supplier\"}</strong> —{\" \"}\r\n                  {cert.status.charAt(0).toUpperCase() + cert.status.slice(1)}{\" \"}\r\n                  {cert.createdAt?.toDate ? `(${cert.createdAt.toDate().toLocaleDateString()})` : \"\"}\r\n                </span>\r\n                {cert.certificateUrl ? (\r\n                  <a\r\n                    href={cert.certificateUrl}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    style={{\r\n                      color: \"#219150\",\r\n                      textDecoration: \"none\",\r\n                      fontWeight: \"600\",\r\n                    }}\r\n                    aria-label={`View certificate for ${cert.supplierName || \"supplier\"}`}\r\n                  >\r\n                    View Certificate\r\n                  </a>\r\n                ) : (\r\n                  <span style={{ fontStyle: \"italic\", color: \"#777\" }}>\r\n                    No certificate uploaded\r\n                  </span>\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </section>\r\n\r\n      {/* Upload Section */}\r\n      {selectedCheckId && (\r\n        <section aria-label=\"Upload Certificate\">\r\n          <h3\r\n            style={{\r\n              borderBottom: \"2px solid #219150\",\r\n              paddingBottom: \"8px\",\r\n              marginBottom: \"16px\",\r\n            }}\r\n          >\r\n            Upload Certificate\r\n          </h3>\r\n          <label\r\n            htmlFor=\"certificateUpload\"\r\n            style={{\r\n              display: \"block\",\r\n              marginBottom: \"12px\",\r\n              fontWeight: \"600\",\r\n              color: \"#2d662a\",\r\n            }}\r\n          >\r\n            Select certificate file:\r\n          </label>\r\n          <input\r\n            id=\"certificateUpload\"\r\n            type=\"file\"\r\n            onChange={handleFileChange}\r\n            accept=\".pdf,.jpg,.jpeg,.png\"\r\n            style={{\r\n              marginBottom: \"16px\",\r\n              cursor: \"pointer\",\r\n            }}\r\n            aria-describedby=\"upload-info\"\r\n          />\r\n          {file && (\r\n            <div\r\n              style={{\r\n                marginBottom: \"12px\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: \"8px\",\r\n              }}\r\n            >\r\n              <strong>Selected file:</strong> {file.name}\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleClearFile}\r\n                aria-label=\"Clear selected file\"\r\n                style={{\r\n                  backgroundColor: \"transparent\",\r\n                  border: \"none\",\r\n                  color: \"#d32f2f\",\r\n                  cursor: \"pointer\",\r\n                  fontWeight: \"700\",\r\n                  fontSize: \"1rem\",\r\n                  padding: \"0 4px\",\r\n                }}\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n          )}\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleUpload}\r\n            disabled={!file || uploading}\r\n            style={{\r\n              backgroundColor: file && !uploading ? \"#219150\" : \"#a5d6a7\",\r\n              color: \"white\",\r\n              padding: \"12px 24px\",\r\n              border: \"none\",\r\n              borderRadius: \"8px\",\r\n              fontWeight: \"600\",\r\n              cursor: file && !uploading ? \"pointer\" : \"not-allowed\",\r\n              fontSize: \"1rem\",\r\n              width: \"100%\",\r\n              transition: \"background-color 0.3s\",\r\n            }}\r\n            aria-disabled={!file || uploading}\r\n            aria-busy={uploading}\r\n          >\r\n            {uploading ? \"Uploading...\" : \"Upload\"}\r\n          </button>\r\n          {uploadSuccess && (\r\n            <p\r\n              id=\"upload-info\"\r\n              style={{ marginTop: \"12px\", color: \"#2d662a\", fontWeight: \"600\" }}\r\n              role=\"status\"\r\n            >\r\n              Certificate uploaded successfully!\r\n            </p>\r\n          )}\r\n        </section>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}